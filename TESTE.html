<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<title>IPTV Streaming</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
    overflow: hidden;
    height: 100vh;
    touch-action: manipulation;
}

/* Toolbar */
.toolbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 50px;
    background: rgba(20,20,20,0.95);
    display: flex;
    align-items: center;
    padding: 0 15px;
    z-index: 20;
    box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

.toolbar button {
    background: #ff002b;
    border: none;
    color: #fff;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 6px;
    font-weight: bold;
    transition: background 0.3s;
}

.toolbar button:hover {
    background: #ff3355;
}

/* Drawer lateral */
.sidebar {
    width: 250px;
    background: rgba(20, 20, 20, 0.95);
    padding: 70px 15px 20px 15px;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    transition: transform 0.5s ease;
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    z-index: 10;
}

.sidebar.hidden {
    transform: translateX(-100%);
}

.sidebar h1 {
    font-size: 20px;
    color: #ff002b;
    margin-bottom: 15px;
    text-align: left;
    margin-left: 10px;
}

/* Canal compacto com barra de programação */
.channel-item {
    display: flex;
    flex-direction: column;
    background: #1c1c1c;
    border-radius: 10px;
    padding: 8px;
    margin-bottom: 12px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border 0.3s, box-shadow 0.3s;
}

.channel-item:hover {
    border: 2px solid #ff002b;
    box-shadow: 0 0 12px rgba(255,0,43,0.4);
}

.channel-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 6px;
}

.channel-header img {
    width: 30px;
    height: 30px;
    object-fit: contain;
}

.channel-header span {
    font-size: 14px;
    font-weight: bold;
}

.program-bar {
    position: relative;
    height: 8px;
    background: #111;
    border-radius: 6px;
    overflow: hidden;
}

.program-bar span {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: #ff002b;
    width: 30%;
    border-radius: 6px;
    transition: width 0.5s ease;
}

/* Área principal (contêiner do player) */
.content {
    position: absolute;
    top: 50px; 
    left: 100%; 
    width: 100%;
    height: calc(100% - 50px - 30px); /* Subtrai Toolbar + Rodapé */
    background: #111;
    transition: all 0.5s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    z-index: 15; /* acima do Drawer, abaixo do rodapé */
}

.content.visible {
    left: 0;
    width: 100%;
    opacity: 1;
}

.content.hidden {
    left: 100%;
    opacity: 0;
    pointer-events: none;
}

.preview {
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    background: #000;
    border-radius: 12px;
    border: 2px solid #222;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 16; /* garante que iframe fique acima do contêiner */
}

.preview iframe {
    width: 100%;
    height: 100%;
    border: none;
}

/* Rodapé fixo */
.footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 30px;
    background: rgba(20,20,20,0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    color: #fff;
    font-size: 12px;
    z-index: 25;
    pointer-events: none;
}
</style>
</head>
<body>

<div class="toolbar">
    <button id="toggleDrawer">☰</button>
</div>

<div class="sidebar" id="sidebar">
    <h1>• AGORA</h1>
</div>

<div class="content hidden" id="content">
    <div class="preview" id="preview">
        Selecione um canal para assistir
    </div>
</div>

<div class="footer">
    ©2025 APP ZEUS WEB - Por Ozarch
</div>

<script>
const sidebar = document.getElementById('sidebar');
const content = document.getElementById('content');
const preview = document.getElementById('preview');
const toggleDrawer = document.getElementById('toggleDrawer');
let drawerOpen = true;

// Lista dinâmica de canais
const channels = [
    {logo: "https://upload.wikimedia.org/wikipedia/pt/5/5f/Logotipo_do_Globoplay_Novelas.png", nome: "Globoplay Novelas", url: "https://reidoscanais.life/embed/?id=globoplaynovelas&autoplay=1", progress: "30%"},
    {logo: "https://upload.wikimedia.org/wikipedia/commons/6/69/SBT_logo_2014.png", nome: "SBT HD", url: "https://reidoscanais.life/embed/?id=sbt&autoplay=1", progress: "40%"},
    {logo: "https://upload.wikimedia.org/wikipedia/commons/8/82/Record_logo.png", nome: "Record HD", url: "https://reidoscanais.life/embed/?id=record&autoplay=1", progress: "20%"}
];

// Criar blocos automaticamente
channels.forEach(ch => {
    const item = document.createElement('div');
    item.classList.add('channel-item');
    item.dataset.channel = ch.nome;
    item.dataset.url = ch.url;

    item.innerHTML = `
        <div class="channel-header">
            <img src="${ch.logo}" alt="${ch.nome}">
            <span>${ch.nome}</span>
        </div>
        <div class="program-bar"><span style="width:${ch.progress}"></span></div>
    `;

    sidebar.appendChild(item);
});

// Abrir/Fechar Drawer
toggleDrawer.addEventListener('click', () => {
    if(drawerOpen){
        content.classList.remove('visible');
        content.classList.add('hidden');
        sidebar.classList.remove('hidden');
        drawerOpen = false;
    } else {
        content.classList.remove('hidden');
        content.classList.add('visible');
        sidebar.classList.add('hidden');
        drawerOpen = true;
    }
});

// Clique em canal
document.querySelectorAll('.channel-item').forEach(item => {
    item.addEventListener('click', () => {
        const channelName = item.dataset.channel;
        const channelUrl = item.dataset.url;

        // Cria iframe dentro do contêiner
        preview.innerHTML = `<iframe src="${channelUrl}" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen sandbox="allow-scripts allow-same-origin" referrerpolicy="no-referrer"></iframe>`;

        content.classList.remove('hidden');
        content.classList.add('visible');

        setTimeout(() => {
            sidebar.classList.add('hidden');
            drawerOpen = false;
        }, 300);
    });
});

// Detecta orientação e ajusta player
function handleOrientation() {
    const isLandscape = window.innerWidth > window.innerHeight;
    if(isLandscape){
        content.style.top = '0';
        content.style.left = '0';
        content.style.width = '100vw';
        content.style.height = '100vh';
        preview.style.width = '100%';
        preview.style.height = '100%';
    } else {
        content.style.top = '50px';
        content.style.left = content.classList.contains('visible') ? '0' : '100%';
        content.style.width = '100%';
        content.style.height = 'calc(100% - 50px - 30px)';
        preview.style.width = '100%';
        preview.style.height = '100%';
    }
}

window.addEventListener('load', handleOrientation);
window.addEventListener('resize', handleOrientation);
window.addEventListener('orientationchange', handleOrientation);
</script>

</body>
</html>
